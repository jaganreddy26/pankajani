<mat-toolbar>
  <span>Cancel WorkOrder</span>
</mat-toolbar>
<div
  class="padding"
  fxLayout="row wrap"
  fxLayoutAlign="space-evenly end"
>

  <mat-form-field fxFlex="20">
      <mat-select
          placeholder="Customer"
          [(ngModel)]="value"
          (ngModelChange)="onchange($event)"
      >
          <mat-option
              *ngFor="let item of customer"
              value="{{item.CustomerId}}"
          >
              {{item.CustomerName}}
          </mat-option>
      </mat-select>
  </mat-form-field>
  <div fxFlex="20">
      <span>From Date</span>
      <input
          class="form-control"
          placeholder="DateOfJoin"
          bsDatepicker
          #dp="bsDatepicker"
          [(ngModel)]="FromDate"
          (ngModelChange)="fromDateChange()"
          [bsConfig]="{ dateInputFormat: 'YYYY-MM-DD' }"
      >
  </div>

  <div fxFlex="20">
      <span>To Date</span>
      <input
          class="form-control"
          placeholder="DateOfJoin"
          bsDatepicker
          #dp="bsDatepicker"
          [(ngModel)]="ToDate"
          (ngModelChange)="toDateChange()"
          [bsConfig]="{ dateInputFormat: 'YYYY-MM-DD' }"
      >
  </div>
  <!-- <div fxFlex="20"> -->
          
  <mat-form-field fxFlex="10">
          <mat-select
              placeholder="Status"
              [(ngModel)]="StatusName"
          >
              <mat-option
                  *ngFor="let item of status"
                  value="{{item.StatusName}}"
              >
                  {{item.StatusName}}
              </mat-option>
          </mat-select>
        </mat-form-field>
  <!-- </div> -->
  <button
      mat-raised-button
      fxFlex="16"
      (click)="search()"
      color="primary"
  >
      Search
  </button>
</div>
<div fxLayout="row" fxLayoutAlign="start start" class="padding">

  <div fxFlex="20" class="card" *ngIf="nodes.length != 0">
      <tree-root [nodes]="nodes" [options]="options" (activate)="onActivate($event)"></tree-root>
  </div>
  <div fxFlex="80" class="container"  *ngIf='viewdata ==1'>
    <div
    class="padding"
    fxLayout="row wrap"
    fxLayoutAlign="space-evenly end"
   >
   <!-- <span>Cancel Reason</span> -->
   <mat-form-field fxFlex="50">
     <mat-select
         placeholder="CancelReason"
         [(ngModel)]="value"
         (ngModelChange)="onchangeCancelReason($event)"
     >
         <mat-option
             *ngFor="let item of CancelReason"
             value="{{item.Id}}"
         >
             {{item.Name}}
         </mat-option>
     </mat-select>
 </mat-form-field>
 <mat-form-field fxFlex="50">
    <input placeholder="Compansation From"
        matInput
        [(ngModel)]="CompansationFrom"
    >
</mat-form-field>
<mat-form-field fxFlex="50">
    <input placeholder="Compansation To"
        matInput
        [(ngModel)]="CompansationTo"
    >
</mat-form-field>
<mat-form-field fxFlex="50">
    <input placeholder="Completed Quantity"
        matInput
        [(ngModel)]="CompletedQuantity"
    >
</mat-form-field>
<!-- <mat-form-field fxFlex="50">
    <input placeholder="CreatedBy"
        matInput
        [(ngModel)]="CreatedBy"
    >
</mat-form-field> -->
<!-- <mat-radio-group>
    <span style="font-weight:400">Do You Want To Cancel Purchase Order:-</span>
<mat-radio-button value="Cancel" (change)="changeCancelPurchaseOrder($event)">Cancel</mat-radio-button>
<mat-radio-button value="OnHold" (change)="changeCancelPurchaseOrder($event)">OnHold</mat-radio-button>
</mat-radio-group>
<mat-radio-group>
    <span style="font-weight:400">Do You Want To Cancel Work Order:-</span>
<mat-radio-button value="Cancel" (change)="changeCancelWO($event)">Cancel</mat-radio-button>
<mat-radio-button value="OnHold" (change)="changeCancelWO($event)">OnHold</mat-radio-button>
</mat-radio-group> -->
<span>CancelledOn</span>
<input fxFlex="20" class="form-control" placeholder="CancelDate" bsDatepicker #dp="bsDatepicker" [(ngModel)]="canceldDate" (ngModelChange)="oncanceldDateChange()"
[bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }">
    </div>
<!-- UBT DETAILS -->
<mat-toolbar style="background-color: rgb(57, 110, 226)">
<span>UBT DETAILS</span>
</mat-toolbar>
  <div class="card">
      <div
      fxLayout="row"
      fxLayoutAlign="space-between center" 
     
  >
      <div class="padding-left">
          <span style="font-weight:400">UbtId : </span>
          <span style="background-color: bisque">{{UbtData.UbtId}}</span>
      </div>

      <div class="padding-left">
          <span style="font-weight:400">BasePrice : </span>
          <span style="background-color: bisque">{{UbtData.BasePrice}}</span>
      </div>
      <div class="padding-left">
          <span style="font-weight:400">MaxMargin : </span>
          <span style="background-color: bisque">{{UbtData.MaxMargin}}</span>
      </div>
      </div>
</div>
<!-- Purchase Order Data -->
<mat-toolbar style="background-color: rgb(57, 110, 226)">
  <span>Purchase Order Data</span>
</mat-toolbar>

<div class="card">
  <div
        fxLayout="row"
        fxLayoutAlign="space-between center" 
       
    >
        <div class="padding-left">
            <span style="font-weight:400">POId : </span>
            <span style="background-color: bisque">{{POData.POId}}</span>
        </div>
  
        <div class="padding-left">
            <span style="font-weight:400">BuyersPhoneNumber : </span>
            <span style="background-color: bisque">{{POData.BuyersPONo}}</span>
        </div>
        <div class="padding-left">
            <span style="font-weight:400">BuyersPoDate : </span>
            <span style="background-color: bisque">{{POData.BuyersPoDate}}</span>
        </div>
</div>
</div>

<div class="card">
        <div
        fxLayout="row"
        fxLayoutAlign="space-between center" 
       
    >
        <div class="padding-left">
            <span style="font-weight:400">FilePath : </span>
            <span style="background-color: bisque">{{POData.FilePath}}</span>
        </div>
  
        <div class="padding-left">
            <span style="font-weight:400">POStatus : </span>
            <span style="background-color: bisque">{{POData.POStatus}}</span>
        </div>
        </div>
</div>

<div class="card">
        <div
        fxLayout="row"
        fxLayoutAlign="space-between center" 
       
    >
        <div class="padding-left">
            <span style="font-weight:400">SuppliedPrice : </span>
            <span style="background-color: bisque">{{POData.SuppliedPrice}}</span>
        </div>
  
        <div class="padding-left">
            <span style="font-weight:400">SuppliedQty : </span>
            <span style="background-color: bisque">{{POData.SuppliedQty}}</span>
        </div>
        </div>
</div>



<!-- PermissionData -->
<mat-toolbar style="background-color: rgb(57, 110, 226)">
  <span>PermissionData</span>
</mat-toolbar>
<div class="card">
  <div
        fxLayout="row"
        fxLayoutAlign="space-between center" 
       
    >
        <div class="padding-left">
            <span style="font-weight:400">PermissionId : </span>
            <span style="background-color: bisque">{{PermissionData.PermissionId}}</span>
        </div>
  
        <div class="padding-left">
            <span style="font-weight:400">PermissionPrice : </span>
            <span style="background-color: bisque">{{PermissionData.PermissionPrice}}</span>
        </div>
        <div class="padding-left">
            <span style="font-weight:400">PermissionQty : </span>
            <span style="background-color: bisque">{{PermissionData.PermissionQty}}</span>
        </div>
        <!-- <div class="padding-left">
            <span style="font-weight:400">PermissionDoc : </span>
            <span style="background-color: bisque">{{PermissionData.PermissionDoc}}</span>
        </div> -->
</div>
</div>
<!-- WORKORDER DATA -->
<mat-toolbar style="background-color:  rgb(57, 110, 226)">
  <span>WORKORDER DETAILS</span>
</mat-toolbar>
<div class="modal-body" style="background-color:#fff;width: 900px;">
<table class="table table-striped table-bordered table-list">
  <thead>
      <tr style="color:#6f6f6f;background-color:#f0f0f0">
         
          <th>WOId </th>
          <th>TransporterName</th>        
          <th>LoadingContName</th>
          <th>UnloadingContName</th>
          <th>WorkOrderQty</th>
          <th>WorkOrderStatus</th>  
          <th>CompletedQuantity</th>      
         
      </tr>
  </thead>
<tbody>
  <tr
      *ngFor="let items of workorder; let i = index"
      [attr.data-index]="i"
       >
    
      <td>{{items.WOId}} </td>
      <td> {{items.TransporterName}}</td>
      <td>{{items.LoadingContName}}</td>
      <td>{{items.UnloadingContName}}</td>
      <td>{{items.WorkOrderQty}}</td>
      <td>{{items.WorkOrderStatus}}</td>
      <td>{{items.CompletedQuantity}}</td>
    
     
  </tr>
</tbody>
</table>
</div>
<div align="left" class="padding-right">
<button mat-raised-button fxFlex="16" (click)="save()" color="primary">
SAVE
</button>

</div>
</div>
</div>
