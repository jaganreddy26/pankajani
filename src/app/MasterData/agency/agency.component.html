<mat-toolbar>
  <span>Add Agency</span>
</mat-toolbar>
<!-- <button type="button" class="btn btn-default" (click)="add()" style="position: absolute;
top: 78px;
right: 20px;
color: #fff;">Add</button> -->
<button type="button"  class="btn btn-default" (click)="save()" style="position: absolute;
top: 78px;
right: 80px;
z-index:1;
color: #fff;">Save</button>
<div
  fxLayout="row wrap"
  fxLayoutAlign="start center"
  class="card padding"
  
>
<mat-form-field fxFlex="33.3" class="padding-left">
  <mat-select
      placeholder="CustomerId"
      [(ngModel)]="value"
      (ngModelChange)="onchangeCustomerId($event)"
      fxFlex="33.3" class="padding-left"
  >
      <mat-option
          *ngFor="let item of CustomerIds"
          [value]="item.CustomerId"
      >
          {{item.CustomerId}}
      </mat-option>
  </mat-select>
</mat-form-field>
<mat-form-field fxFlex="33.3" class="padding-left">
  <input
      placeholder="Agency Name"
      matInput
      [(ngModel)]="agency.AgencyName"
  >
</mat-form-field>
<mat-form-field fxFlex="33.3" class="padding-left">
  <input
      placeholder="Email"
      matInput
      [(ngModel)]="agency.Email"
  >
</mat-form-field>
<mat-form-field fxFlex="33.3" class="padding-left">
  <input
      placeholder="Alternate Email"
      matInput
      [(ngModel)]="agency.AlternateEmail"
  >
</mat-form-field>
<mat-form-field fxFlex="33.3" class="padding-left">
  <input
      placeholder="Phone"
      matInput
      [(ngModel)]="agency.Phone"
  >
</mat-form-field>
<mat-form-field fxFlex="33.3" class="padding-left">
  <input
      placeholder="Mobile"
      matInput
      [(ngModel)]="agency.Mobile"
  >
</mat-form-field>
<mat-form-field fxFlex="33.3" class="padding-left">
  <input
      placeholder="Alternate Mobile"
      matInput
      [(ngModel)]="agency.AlternateMobile"
  >
</mat-form-field>
<mat-form-field fxFlex="10">
  <mat-select
      placeholder="Status"
      [(ngModel)]="value"
      (ngModelChange)="onchangeStatus($event)"
  
  >
      <mat-option
          *ngFor="let item of Status"
          value="{{item.Id}}"
      >
          {{item.Id}}
      </mat-option>
  </mat-select>
</mat-form-field>
</div>
<div class="panel-body padding"   fxLayout="row wrap"
    fxLayoutAlign="center center">
<table class="table table-striped table-bordered table-list" *ngIf='allAgencyDeatils.length !=0'>
    <thead>
        <tr style="color:#6f6f6f;background-color:#f0f0f0">
            <th>CustomerId</th>
            <th>CustomerName</th>
            <th>AgencyId </th>
            <th>AgencyName</th>
            <th>Email</th>
            <th>AlternateEmail</th>
            <th>Phone</th>
            <th>Mobile</th>
            <th>AlternateMobile</th>
            <th>Status</th>
            <th>StatusDescription</th>
            <th>Action</th>
        </tr>
    </thead>
  <tbody>
    <tr
        *ngFor="let items of allAgencyDeatils; let i = index"
        [attr.data-index]="i"
         >
     
        <td>{{items.CustomerId}}</td>
        <td>{{items.CustomerName}}</td>
        <td>{{items.AgencyId}}</td>
        <td>{{items.AgencyName}}</td>
        <td>{{items.Email}}</td>
        <td>{{items.AlternateEmail}}</td>
        <td>{{items.Phone}}</td>
        <td>{{items.Mobile}}</td>
        <td>{{items.AlternateMobile}}</td>
        <td>{{items.Status}}</td>
        <td>{{items.StatusDescription}}</td>
        <td>
            <button
            mat-raised-button
            fxFlex="16"
            (click)="openModalEdit(items,template)"
            color="primary"
        >
           Edit
        </button>
         
        </td>
  
    </tr>
  </tbody>
  </table>
</div>
<ng-template #template >
    <app-agency-edit [Inputdata]="InputId" (close)="onHide()"></app-agency-edit>
</ng-template>
